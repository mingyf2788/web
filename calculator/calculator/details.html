<!DOCTYPE html>
<html lang="zh-hans">
    <head>
        <title>Calculator</title>
        <meta charset="utf-8">
        <link rel = "stylesheet" href="details.css" type="text/css" />
        <link href="image/11.png" type="image/png" rel="icon" />
      
    </head>

    <body>
        <h1>计算器</h1>
        <h2>简单计算器</h2>
        <p>感觉这次作业还是花了蛮多的时间的，但是最终的效果却不是很理想，实现的时候首先要将输入的字符串处理一下，将数字和操作符分开存入到队列里面，在处理的时候要着重处理负数和数字尾部带有多余的0的数字（JavaScript使用parseFloat()提取浮点数的时候如果结果是整数的话就会只显示整数的部分，所以要注意自己处理尾部带有0的数据串）；然后将处理后的中缀表达式转化为后缀表达式，中缀转后缀的这个部分篇幅巨长，因为要处理的细节实在有点多，再加上为了实现更加人性化的功能，很多地方都有做处理，在实现的时候对于计算器的功能参考的是自己的手机上的计算器来实现的，不同的平台上的计算器的实现可能会有微小的差异，具体细节如下：</p>
        
        <ol>
        <li>在输入串的末尾有 +、-、*、/四个符号的语句串是合法的，如5+6+z最终可以计 算出结果：11；</li>
        <li>经输入的字符串的末尾是+、-，这两个符号时，点击其余符号会实现自动更替， 如已经输入的串为：3+5-，这时候点击+符号串变为 3+5+，点击*，则变为3+5*；</li>
        <li>已经输入的字符串的末尾是 *、/ 时，点击*、/、+ 操作符会变更，但是如果点 击 - ，则直接添加上去，也就是说5*-6，是合法的式子，
        运算结果为：-30.</li>
        <li>支持.1+.2格式的数据的运算；</li>
        <li>支持1.00+2.10等末尾有0的数字的运算；</li>
        <li>输出的精度处理部分，首先取10位的精度，然后将数字末尾的不必要的0去掉；</li>
        <li>使用inFinite()函数判断运算的结果是否在可显示的边界之内；</li>
        </ol>

        <p>应该实现但是还没有实现的功能：手机上的计算器支持这样的数据格式：1+(2+3，也就是如果缺少右括号，一般会自动的填充，但是由于这部分感觉有些麻烦，还没有想到比较好的方式来处理所以就没有实现这个部分的功能。
        </p>

        <h2>科学计算器</h2>
        <p>实现了简单计算器之后感觉还蛮有趣的，所以就又做了一下科学计算器，虽然功能不是很完善，但是基本的使用应该是够了的。
        关于科学计算器部分，在中缀转后缀的时候注意到sin, cos, tan, ln, log, sqrt等函数具有最高的运算优先级就好了，实现的思路和简单计算器的是一样的，具体的细节如下：
        </p>

        <ol>
            <li>
                e代表的是自然对数的底数：2.71828......；
            </li>

            <li>
                正弦、余弦、正切函数默认的是弧度表示，如sin(1)=0.8417;
            </li>
        </ol>
        <p>做完之后以我目前对JavaScript并不多的了解谈一下看法：</p>
        <ol>
            <li>首先它很强大，最开始体会到这一点是在可以将数组当成栈、队列等来使用，而且存放在同一个栈或队列中的元素可以不同的时候，觉得真的太神奇了；</li>
            <li>使用方便，很多函数都有自己的实现，直接调用就好了，但是它的这种过强的灵活性也会导致问题，比如在处理的时候使用parseFloat()函数提取数字的时候如果数字形式为：123.445000，它会将数字末尾的几个0给自动的删除掉，但是在我们要处理的原来的字符串中这几个0是真实存在的，所以就需要手动的处理这种情况，另外如果数字形式为：12.0的话，那么提取出来的就会是12，也是需要手动的处理末尾的0的；</li>
            <li>由于JavaScript是脚本语言，所以没有编译器那些，检查错误就只能手动添加alert()来查看运行结果，代码输入的时候要小心一点，输错
            字母是不会报错的，所以如果输入错误那么就只能肉眼debug了。</li>
            <li>由于对于JavaScript还不是很熟，所以这次作业使用的函数那些都很基础，每一个button对应一个函数，就显得篇幅特别长。</li>
        </ol>
        <p class = "hyper">
            <a href="calc.html">
                Simple Mode
            </a>
            <br/>
            <a href="calculator_complex.html">
                Scientific Mode
            </a>
        </p>
    </body>
</html>
